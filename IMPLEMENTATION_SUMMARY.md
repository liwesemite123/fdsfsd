# üéâ Leboncoin Parser - –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è —Å–∞–π—Ç–∞ leboncoin.fr —Å–æ –≤—Å–µ–º–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∫—Å–∏ –∏–∑ —Ñ–∞–π–ª–∞ `proxies.txt`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP, HTTPS –∏ SOCKS5

2. **–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π**
   - 64 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
   - –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –ø–∞—Ä—Å–∏—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Ñ–∞–π–ª–µ `src/LeboncoinConfig.py`

3. **–î–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü–∞**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂ (`sales_count`)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ (`reviews_count`)
   - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (`average_rating`)
   - –¢–∏–ø –ø—Ä–æ–¥–∞–≤—Ü–∞ (`seller_type`: pro/particulier)
   - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`registration_date`)
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (`response_time`)

4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
   - –¢–∏–ø –ø—Ä–æ–¥–∞–≤—Ü–∞

5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limits
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–¥–∞–≤—Ü–∞–º
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/runner/work/fdsfsd/fdsfsd/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ LeboncoinParser.py      # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä (480 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ LeboncoinConfig.py      # 64 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ + —Ä–µ–≥–∏–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ LeboncoinUtils.py       # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py             # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ leboncoin_example.py        # –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ test_leboncoin.py          # –¢–µ—Å—Ç—ã (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ)
‚îú‚îÄ‚îÄ LEBONCOIN_README.md        # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
‚îú‚îÄ‚îÄ QUICKSTART_LEBONCOIN.md    # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—Ä—É—Å—Å–∫–∏–π)
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .gitignore                # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îî‚îÄ‚îÄ proxies.txt               # –í–∞—à–∏ –ø—Ä–æ–∫—Å–∏ (—Å–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–∏)
```

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–§–∞–π–ª `proxies.txt`:
```
http://user:pass@proxy1.com:8080
http://user:pass@proxy2.com:8080
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–º–µ—Ä

```bash
python leboncoin_example.py
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ:

```python
import asyncio
from src.LeboncoinParser import LeboncoinParser
from src.LeboncoinUtils import load_proxies, filter_listings_by_seller

async def main():
    # –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∫—Å–∏
    proxies = load_proxies('proxies.txt')
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
    parser = LeboncoinParser(
        categories=['voitures', 'informatique'],  # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
        proxy_list=proxies,                       # –ü—Ä–æ–∫—Å–∏
        max_listings=50,                          # –õ–∏–º–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π
        max_concurrent=5,                         # –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    )
    
    # –ü–∞—Ä—Å–∏–Ω–≥
    listings = await parser.start_parsing()
    
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ–¥–∞–≤—Ü–∞–º
    filters = {
        'min_sales': 10,      # –ú–∏–Ω–∏–º—É–º 10 –ø—Ä–æ–¥–∞–∂
        'min_reviews': 5,     # –ú–∏–Ω–∏–º—É–º 5 –æ—Ç–∑—ã–≤–æ–≤
        'min_rating': 4.0,    # –†–µ–π—Ç–∏–Ω–≥ –Ω–µ –Ω–∏–∂–µ 4.0
    }
    filtered = filter_listings_by_seller(listings, filters)
    
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    parser.save_results('results.json')
    
    print(f"–ù–∞–π–¥–µ–Ω–æ: {len(listings)}, –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞: {len(filtered)}")

asyncio.run(main())
```

## üìä –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ

–ö–∞–∂–¥–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:

```json
{
  "title": "iPhone 15 Pro 256GB",
  "price": 950,
  "location": "Paris 75001",
  "category": "Informatique",
  "url": "https://www.leboncoin.fr/...",
  "listing_id": "123456789",
  "image_url": "https://...",
  "date_posted": "Aujourd'hui, 15:30",
  "seller_info": {
    "seller_id": "abc123",
    "seller_name": "Jean Dupont",
    "seller_type": "pro",              // –∏–ª–∏ "particulier"
    "sales_count": 25,                 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂
    "reviews_count": 18,               // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
    "average_rating": 4.5,             // –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
    "registration_date": "Membre depuis 2020",
    "response_rate": "95%",
    "response_time": "< 1 heure"
  }
}
```

## üìö –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø—Ä–∏–º–µ—Ä—ã)

- `voitures` - –ê–≤—Ç–æ–º–æ–±–∏–ª–∏
- `motos` - –ú–æ—Ç–æ—Ü–∏–∫–ª—ã
- `immobilier` - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
- `informatique` - –ö–æ–º–ø—å—é—Ç–µ—Ä—ã
- `telephonie` - –¢–µ–ª–µ—Ñ–æ–Ω—ã
- `ameublement` - –ú–µ–±–µ–ª—å
- `electromenager` - –ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞
- `loisirs` - –î–æ—Å—É–≥
- `velos` - –í–µ–ª–æ—Å–∏–ø–µ–¥—ã
- `emploi` - –†–∞–±–æ—Ç–∞

**–í—Å–µ–≥–æ 64 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** –≤ —Ñ–∞–π–ª–µ `src/LeboncoinConfig.py`

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:
```bash
python test_leboncoin.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: 4
‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: 0
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É CodeQL (0 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–±–µ–∑ `eval()`)
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ certifi
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **QUICKSTART_LEBONCOIN.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—Ä—É—Å—Å–∫–∏–π)
2. **LEBONCOIN_README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
3. **leboncoin_example.py** - –†–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
4. **test_leboncoin.py** - –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env.example`:

```env
LEBONCOIN_MAX_LISTINGS=100
LEBONCOIN_MAX_CONCURRENT=10
LEBONCOIN_PROXY_FILE=proxies.txt
LEBONCOIN_MIN_SALES=0
LEBONCOIN_MIN_REVIEWS=0
LEBONCOIN_MIN_RATING=0.0
LEBONCOIN_SELLER_TYPES=pro,particulier
LEBONCOIN_CATEGORIES=voitures,informatique,telephonie,ameublement,immobilier
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–æ–∫—Å–∏** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
2. **–°–∫–æ—Ä–æ—Å—Ç—å** - –Ω–µ —Å—Ç–∞–≤—å—Ç–µ `max_concurrent` –±–æ–ª—å—à–µ 10
3. **–ó–∞–¥–µ—Ä–∂–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
4. **Rate limits** - –ø–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP 429
5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞** - –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ `LeboncoinConfig.py`
‚Üí –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–µ–∑ –ø—Ä–æ–∫—Å–∏
‚Üí –£–º–µ–Ω—å—à–∏—Ç–µ `max_concurrent`

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
‚Üí –£–º–µ–Ω—å—à–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å (`max_concurrent=3`)
‚Üí –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, —Å–º–æ—Ç—Ä–∏—Ç–µ:
- `LEBONCOIN_README.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `leboncoin_example.py` - —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã
- `test_leboncoin.py` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

---

## üéØ –†–µ–∑—é–º–µ

‚úÖ –ü–∞—Ä—Å–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
‚úÖ –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –±–µ–∑–æ–ø–∞—Å–µ–Ω
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üöÄ**
